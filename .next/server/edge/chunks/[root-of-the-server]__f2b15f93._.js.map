{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\r\n\r\nconst PUBLIC_PATHS = [\"/\", \"/api/auth/login\", \"/api/auth/logout\", \"/_next\", \"/favicon.ico\"];\r\nconst isPublic = (p: string) => PUBLIC_PATHS.some(x => p === x || p.startsWith(x));\r\n\r\nexport function middleware(req: NextRequest) {\r\n  const { pathname } = req.nextUrl;\r\n  const token = req.cookies.get(\"token\")?.value;\r\n\r\n  // kalau user sudah login & membuka halaman root, lempar ke /cases\r\n  if (pathname === \"/\" && token) {\r\n    const url = new URL(\"/cases\", req.url);\r\n    return NextResponse.redirect(url);\r\n  }\r\n\r\n  if (isPublic(pathname)) return NextResponse.next();\r\n\r\n  // lindungi halaman protected (contoh: /cases)\r\n  const isProtected = pathname.startsWith(\"/cases\");\r\n  if (isProtected && !token) {\r\n    const url = new URL(\"/\", req.url); // root = login page\r\n    return NextResponse.redirect(url);\r\n  }\r\n\r\n  return NextResponse.next();\r\n}\r\n\r\nexport const config = {\r\n  matcher: [\"/((?!_next/static|_next/image|favicon.ico).*)\"],\r\n};\r\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AAEA,MAAM,eAAe;IAAC;IAAK;IAAmB;IAAoB;IAAU;CAAe;AAC3F,MAAM,WAAW,CAAC,IAAc,aAAa,IAAI,CAAC,CAAA,IAAK,MAAM,KAAK,EAAE,UAAU,CAAC;AAExE,SAAS,WAAW,GAAgB;IACzC,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,OAAO;IAChC,MAAM,QAAQ,IAAI,OAAO,CAAC,GAAG,CAAC,UAAU;IAExC,kEAAkE;IAClE,IAAI,aAAa,OAAO,OAAO;QAC7B,MAAM,MAAM,IAAI,IAAI,UAAU,IAAI,GAAG;QACrC,OAAO,gMAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,IAAI,SAAS,WAAW,OAAO,gMAAY,CAAC,IAAI;IAEhD,8CAA8C;IAC9C,MAAM,cAAc,SAAS,UAAU,CAAC;IACxC,IAAI,eAAe,CAAC,OAAO;QACzB,MAAM,MAAM,IAAI,IAAI,KAAK,IAAI,GAAG,GAAG,oBAAoB;QACvD,OAAO,gMAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,OAAO,gMAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QAAC;KAAgD;AAC5D"}}]
}