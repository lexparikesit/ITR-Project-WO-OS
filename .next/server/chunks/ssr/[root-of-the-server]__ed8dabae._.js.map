{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///C:/Project/web-ops/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useForm } from \"react-hook-form\";\nimport { z } from \"zod\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport axios from \"axios\";\nimport { useRouter } from \"next/navigation\";\nimport {\n  Button, Container, Paper, Stack, Title, Text,\n  TextInput, PasswordInput, Group, Anchor, Divider\n} from \"@mantine/core\";\n\nconst schema = z.object({\n  username: z.string().min(1, \"Username wajib diisi\"),\n  password: z.string().min(1, \"Password wajib diisi\"),\n});\ntype FormValues = z.infer<typeof schema>;\n\nexport default function SignInPage() {\n  const router = useRouter();\n  const { register, handleSubmit, formState: { errors, isSubmitting }, setError } =\n    useForm<FormValues>({ resolver: zodResolver(schema) });\n\n  const onSubmit = async (values: FormValues) => {\n    try {\n      await axios.post(\"/api/auth/login\", {\n        username: values.username,\n        password: values.password,\n      });\n      router.replace(\"/cases\");\n    } catch (e: any) {\n      const data = e?.response?.data;\n      const msg =\n        data?.message ??\n        e?.message ??\n        \"Username atau password salah\";\n\n      // tambahkan sedikit konteks biar kelihatan\n      const extra = data?.upstreamStatus\n        ? ` (upstream ${data.upstreamStatus})`\n        : \"\";\n\n      // Kalau mau, log ke console untuk debug\n      if (data?.upstreamBody) console.log(\"Upstream body:\", data.upstreamBody);\n\n      setError(\"root\", { message: `${msg}${extra}` });\n    }\n  };\n\n  return (\n    <Container size={460} py=\"xl\">\n      <Paper radius=\"md\" withBorder p=\"xl\" shadow=\"sm\">\n        <Stack gap=\"xs\">\n          <Title order={2} ta=\"center\">Sign In</Title>\n          <Text c=\"dimmed\" ta=\"center\">Use your username and password to sign in</Text>\n        </Stack>\n\n        <Divider my=\"md\" />\n\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <Stack>\n            <TextInput\n              label=\"Username\"\n              placeholder=\"masukkan username\"\n              type=\"text\"\n              autoComplete=\"username\"\n              {...register(\"username\")}\n              error={errors.username?.message}\n            />\n            <PasswordInput\n              label=\"Password\"\n              placeholder=\"••••••••\"\n              autoComplete=\"current-password\"\n              {...register(\"password\")}\n              error={errors.password?.message}\n            />\n            {errors.root?.message && <Text c=\"red\">{errors.root.message}</Text>}\n            <Button type=\"submit\" loading={isSubmitting} size=\"md\">Sign in</Button>\n          </Stack>\n        </form>\n\n        <Group justify=\"center\" mt=\"md\">\n          <Text c=\"dimmed\" size=\"sm\">\n            Don't have an account? <Anchor href=\"#\" size=\"sm\">Sign up</Anchor> for free.\n          </Text>\n        </Group>\n      </Paper>\n    </Container>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPA;;;;;;;;AAYA,MAAM,SAAS,kLAAC,CAAC,MAAM,CAAC;IACtB,UAAU,kLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC5B,UAAU,kLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;AAC9B;AAGe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAE,WAAW,EAAE,MAAM,EAAE,YAAY,EAAE,EAAE,QAAQ,EAAE,GAC7E,IAAA,yKAAO,EAAa;QAAE,UAAU,IAAA,6KAAW,EAAC;IAAQ;IAEtD,MAAM,WAAW,OAAO;QACtB,IAAI;YACF,MAAM,gJAAK,CAAC,IAAI,CAAC,mBAAmB;gBAClC,UAAU,OAAO,QAAQ;gBACzB,UAAU,OAAO,QAAQ;YAC3B;YACA,OAAO,OAAO,CAAC;QACjB,EAAE,OAAO,GAAQ;YACf,MAAM,OAAO,GAAG,UAAU;YAC1B,MAAM,MACJ,MAAM,WACN,GAAG,WACH;YAEF,2CAA2C;YAC3C,MAAM,QAAQ,MAAM,iBAChB,CAAC,WAAW,EAAE,KAAK,cAAc,CAAC,CAAC,CAAC,GACpC;YAEJ,wCAAwC;YACxC,IAAI,MAAM,cAAc,QAAQ,GAAG,CAAC,kBAAkB,KAAK,YAAY;YAEvE,SAAS,QAAQ;gBAAE,SAAS,GAAG,MAAM,OAAO;YAAC;QAC/C;IACF;IAEA,qBACE,8OAAC,8LAAS;QAAC,MAAM;QAAK,IAAG;kBACvB,cAAA,8OAAC,kLAAK;YAAC,QAAO;YAAK,UAAU;YAAC,GAAE;YAAK,QAAO;;8BAC1C,8OAAC,kLAAK;oBAAC,KAAI;;sCACT,8OAAC,kLAAK;4BAAC,OAAO;4BAAG,IAAG;sCAAS;;;;;;sCAC7B,8OAAC,+KAAI;4BAAC,GAAE;4BAAS,IAAG;sCAAS;;;;;;;;;;;;8BAG/B,8OAAC,wLAAO;oBAAC,IAAG;;;;;;8BAEZ,8OAAC;oBAAK,UAAU,aAAa;8BAC3B,cAAA,8OAAC,kLAAK;;0CACJ,8OAAC,8LAAS;gCACR,OAAM;gCACN,aAAY;gCACZ,MAAK;gCACL,cAAa;gCACZ,GAAG,SAAS,WAAW;gCACxB,OAAO,OAAO,QAAQ,EAAE;;;;;;0CAE1B,8OAAC,0MAAa;gCACZ,OAAM;gCACN,aAAY;gCACZ,cAAa;gCACZ,GAAG,SAAS,WAAW;gCACxB,OAAO,OAAO,QAAQ,EAAE;;;;;;4BAEzB,OAAO,IAAI,EAAE,yBAAW,8OAAC,+KAAI;gCAAC,GAAE;0CAAO,OAAO,IAAI,CAAC,OAAO;;;;;;0CAC3D,8OAAC,qLAAM;gCAAC,MAAK;gCAAS,SAAS;gCAAc,MAAK;0CAAK;;;;;;;;;;;;;;;;;8BAI3D,8OAAC,kLAAK;oBAAC,SAAQ;oBAAS,IAAG;8BACzB,cAAA,8OAAC,+KAAI;wBAAC,GAAE;wBAAS,MAAK;;4BAAK;0CACF,8OAAC,qLAAM;gCAAC,MAAK;gCAAI,MAAK;0CAAK;;;;;;4BAAgB;;;;;;;;;;;;;;;;;;;;;;;AAM9E","debugId":null}}]
}