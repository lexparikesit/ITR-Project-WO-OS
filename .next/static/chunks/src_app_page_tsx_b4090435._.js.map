{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Project/web-ops/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useForm } from \"react-hook-form\";\nimport { z } from \"zod\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport axios from \"axios\";\nimport { useRouter } from \"next/navigation\";\nimport {\n  Button, Container, Paper, Stack, Title, Text,\n  TextInput, PasswordInput, Group, Anchor, Divider\n} from \"@mantine/core\";\n\nconst schema = z.object({\n  username: z.string().min(1, \"Username wajib diisi\"),\n  password: z.string().min(1, \"Password wajib diisi\"),\n});\ntype FormValues = z.infer<typeof schema>;\n\nexport default function SignInPage() {\n  const router = useRouter();\n  const { register, handleSubmit, formState: { errors, isSubmitting }, setError } =\n    useForm<FormValues>({ resolver: zodResolver(schema) });\n\n  const onSubmit = async (values: FormValues) => {\n    try {\n      await axios.post(\"/api/auth/login\", {\n        username: values.username,\n        password: values.password,\n      });\n      router.replace(\"/cases\");\n    } catch (e: any) {\n      const data = e?.response?.data;\n      const msg =\n        data?.message ??\n        e?.message ??\n        \"Username atau password salah\";\n\n      // tambahkan sedikit konteks biar kelihatan\n      const extra = data?.upstreamStatus\n        ? ` (upstream ${data.upstreamStatus})`\n        : \"\";\n\n      // Kalau mau, log ke console untuk debug\n      if (data?.upstreamBody) console.log(\"Upstream body:\", data.upstreamBody);\n\n      setError(\"root\", { message: `${msg}${extra}` });\n    }\n  };\n\n  return (\n    <Container size={460} py=\"xl\">\n      <Paper radius=\"md\" withBorder p=\"xl\" shadow=\"sm\">\n        <Stack gap=\"xs\">\n          <Title order={2} ta=\"center\">Sign In</Title>\n          <Text c=\"dimmed\" ta=\"center\">Use your username and password to sign in</Text>\n        </Stack>\n\n        <Divider my=\"md\" />\n\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <Stack>\n            <TextInput\n              label=\"Username\"\n              placeholder=\"masukkan username\"\n              type=\"text\"\n              autoComplete=\"username\"\n              {...register(\"username\")}\n              error={errors.username?.message}\n            />\n            <PasswordInput\n              label=\"Password\"\n              placeholder=\"••••••••\"\n              autoComplete=\"current-password\"\n              {...register(\"password\")}\n              error={errors.password?.message}\n            />\n            {errors.root?.message && <Text c=\"red\">{errors.root.message}</Text>}\n            <Button type=\"submit\" loading={isSubmitting} size=\"md\">Sign in</Button>\n          </Stack>\n        </form>\n\n        <Group justify=\"center\" mt=\"md\">\n          <Text c=\"dimmed\" size=\"sm\">\n            Don't have an account? <Anchor href=\"#\" size=\"sm\">Sign up</Anchor> for free.\n          </Text>\n        </Group>\n      </Paper>\n    </Container>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}